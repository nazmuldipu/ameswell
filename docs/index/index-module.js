var A=Object.defineProperty;var y=(o,t,e)=>(typeof t!="symbol"&&(t+=""),t in o?A(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e);"use strict";var a=class extends HTMLElement{static loadCSS(t){return new Promise((e,r)=>{let i=[...document.styleSheets].find(s=>s.href===t);if(i)e(i);else{let s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.onload=function(){e(s)},s.href=t,document.getElementsByTagName("head")[0].insertAdjacentElement("beforeend",s)}})}constructor(t){super();this._moduleMap=new Map;for(let e of t)this._registerModule(e)}connectedCallback(){for(let t of this._moduleMap.values())t.observer.observe(this)}_registerModule(t){t.observer=new x(t.type,t.observerConfig,this._onLoad.bind(this,t.id)),this._moduleMap.set(t.id,t)}async _onLoad(t){let e=this._moduleMap.get(t);if(e){e.observer.destroy();let r=[];if(e.stylePaths){let i=await Promise.all(e.stylePaths.map(s=>a.loadCSS(s)));Array.prototype.push.apply(r,i)}if(e.behaviorPath){let i=await import(e.behaviorPath);r.push(i),e.mod=i}return e.results=r,e}return this}},c=a,x=class{constructor(t,e,r){switch(this.type=t,t){case"IntersectionObserver":this._observer=new IntersectionObserver(r,e);break;default:break}}unobserve(t){switch(this.type){case"IntersectionObserver":this._observer.unobserve(t);break;default:break}}observe(t){switch(this.type){case"IntersectionObserver":this._observer.observe(t);break;default:break}}destroy(){switch(this.type){case"IntersectionObserver":this._observer.disconnect();break;default:break}}};"use strict";var m=class extends c{constructor(){super([{id:"swiper",behaviorPath:"../lib/swiper.js",stylePaths:["https://unpkg.com/swiper/swiper-bundle.min.css"],type:"IntersectionObserver",observerConfig:{rootMargin:"400px"}}])}_onLoad(t,e,r){e.some(i=>i.isIntersecting)&&super._onLoad(t).then(({mod:i})=>{var s;i.Swiper&&(this.swiperInstance=new i.Swiper((s=this.getElementsByClassName("swiper-container"))==null?void 0:s[0],i.defaultConfig))})}},P=m;customElements.define("media-carousel",m);"use strict";var u=class extends c{constructor(){super([{id:"swiper",behaviorPath:"../lib/ameswell-rooms.js",stylePaths:[],type:"IntersectionObserver",observerConfig:{rootMargin:"400px"}}]);this._currentIndex=0}_onLoad(t,e,r){e.some(i=>i.isIntersecting)&&super._onLoad(t).then(({mod:i})=>{var s,n,E,_,S,b;i.roomInfo&&(this._titleEl=(s=this.getElementsByClassName("rooms-gallery--title"))==null?void 0:s[0],this._sqftEl=(n=this.getElementsByClassName("rooms-gallery--icon-sqft"))==null?void 0:n[0],this._workspaceEl=(E=this.getElementsByClassName("rooms-gallery--icon-workspace"))==null?void 0:E[0],this._sleepsEl=(_=this.getElementsByClassName("rooms-gallery--icon-sleeps"))==null?void 0:_[0],this._prevBtnEl=(S=this.getElementsByClassName("rooms-gallery--prev"))==null?void 0:S[0],this._nextBtnEl=(b=this.getElementsByClassName("rooms-gallery--next"))==null?void 0:b[0],this._prevBtnEl.onclick=()=>{this.prev()},this._nextBtnEl.onclick=()=>{this.next()},this._rooms=i.roomInfo,this._loaded=!0)})}changeRoom(){this._titleEl.textContent=this._rooms[this._currentIndex].title,this._sqftEl.lastElementChild.innerHTML=this._rooms[this._currentIndex].sqft,this._workspaceEl.lastElementChild.textContent=this._rooms[this._currentIndex].workspace,this._sleepsEl.lastElementChild.textContent=this._rooms[this._currentIndex].sleeps}next(){this._loaded&&(this._currentIndex++,this._currentIndex===this._rooms.length&&(this._currentIndex=0),this.changeRoom())}prev(){this._loaded&&(this._currentIndex--,this._currentIndex<0&&(this._currentIndex=this._rooms.length-1),this.changeRoom())}},G=u;customElements.define("rooms-gallery",u);var C="https://hotel-site.skipperhospitality.com/contact/ameswell",d="text-ams-primary",p="text-ams-green",l="text-rose-600",v="Success! You'll hear from our team shortly",g="Contacting our servers...",I="Something went wrong. Please try again",L="Please fill in the required fields";"use strict";var T=o=>o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement?o.type==="checkbox"||o.type==="radio"?o.checked:o.value!=="":!1,w=o=>Array.from(o.elements).every(t=>t.required&&t.value||!t.required),O=o=>{let t=o.elements;return Array.from(t).reduce((e,r)=>(T(r)&&(e[r.name]?Array.isArray(e[r.name])?e[r.name].push(r.value):e[r.name]=[e[r.name],r.value]:e[r.name]=r.value),e),{})};async function R(o,t){let e=O(o);return await fetch(`${C}?request_type=${t}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer this-is-my-secret-token-ameswell"},body:JSON.stringify(e)})}"use strict";var B=o=>`The following fields have invalid values: ${Object.keys(o).join(", ")}`,f=class extends HTMLElement{constructor(){super();var t,e,r;this.submitButton=(t=this.getElementsByClassName("submit__button"))==null?void 0:t[0],this.ajaxStatusEl=(e=this.getElementsByClassName("ajax__status"))==null?void 0:e[0],this.setStatusColor(d),this.form=(r=this.getElementsByTagName("form"))==null?void 0:r[0],this.formDisabled=!1,this.formInteractionHandler=i=>{this.clearFormInteractionListeners(),this.hideStatus()},this.submitButton instanceof HTMLAnchorElement&&(this.submitButton.onclick=this.form.submit,this.href=this.submitButton.href),this.form.onsubmit=i=>{i.preventDefault(),w(this.form)?(this.showStatus(),this.setStatusCopy(g),this.setStatusColor(d),this.formDisabled=!0,R(this.form,this.dataset.type).then(s=>{if(s.ok)s.json().then(n=>{this.setStatusCopy(v),this.setStatusColor(p),this.clearForm()});else if(s.body instanceof ReadableStream)s.json().then(({errors:n})=>{this.setStatusColor(l),this.setStatusCopy(B(n))});else throw new Error(`SERVER ERROR ${s.status} -- ${s.statusText}`)}).catch(s=>{this.setStatusCopy(I),this.setStatusColor(l)}).finally(()=>{this.applyFormInteractionListeners(),this.formDisabled=!1})):(this.setStatusCopy(L),this.setStatusColor(l),this.applyFormInteractionListeners())}}applyFormInteractionListeners(){f.formInteractionEvents.forEach(t=>{this.form.addEventListener(t,this.formInteractionHandler,{once:!0})})}clearFormInteractionListeners(){f.formInteractionEvents.forEach(t=>{this.form.removeEventListener(t,this.formInteractionHandler,{once:!0})})}clearForm(){this.form.reset()}set formDisabled(t){switch(!0){case this.submitButton instanceof HTMLButtonElement:this.submitButton.disabled=t;break;case this.submitButton instanceof HTMLAnchorElement:t?(this.submitButton.href="javascript:void(0)",this.submitButton.onclick=!1):(this.submitButton.href=this.href,this.submitButton.onclick=this.form.submit());break;default:break}}setStatusCopy(t){this.ajaxStatusEl.textContent=t}hideStatus(){this.ajaxStatusEl.classList.add("hidden")}showStatus(){this.ajaxStatusEl.classList.remove("hidden")}setStatusColor(t){this.ajaxStatusEl.classList.remove(d,p,l),this.ajaxStatusEl.classList.add(t)}},h=f;y(h,"formInteractionEvents",["click","keydown"]);var W=h;customElements.define("form-sender",h);"use strict";
